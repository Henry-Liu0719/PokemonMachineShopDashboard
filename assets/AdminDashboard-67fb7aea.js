import{m as h,_,r,o as d,c as v,b as t,a as n,e as l,f as u,d as f,g as k,h as $,F as M}from"./index-24d68b14.js";import{u as g}from"./toastMessage-1b27172a.js";import{T as x}from"./ToastMessages-27931ccc.js";const N={methods:{...h(g,["pushMessage"]),logout(){const a="https://vue3-course-api.hexschool.io/v2/logout";this.$http.post(a).then(s=>{this.pushMessage({style:"success",title:"登出狀態",content:s.data.message}),this.$router.push("/")}).catch(s=>{this.pushMessage({style:"danger",title:"登出狀態",content:s.response.data.message})})}}},y={class:"navbar navbar-expand /*navbar-expand-lg*/ navbar-dark bg-dark"},T={class:"container-fluid"},A=t("a",{class:"navbar-brand",href:"#"},"寶可夢招式機商店後台",-1),V=t("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[t("span",{class:"navbar-toggler-icon"})],-1),L={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},w={class:"navbar-nav"},B={class:"navbar-nav ms-auto"};function C(a,s,e,m,p,c){const o=r("RouterLink");return d(),v("nav",y,[t("div",T,[A,V,t("div",L,[t("div",w,[n(o,{to:"/admin/products",class:"nav-link"},{default:l(()=>[u("產品")]),_:1}),n(o,{to:"/admin/orders",class:"nav-link"},{default:l(()=>[u("訂單")]),_:1}),t("a",{href:"#",onClick:s[0]||(s[0]=f((...i)=>c.logout&&c.logout(...i),["prevent"])),class:"nav-link"},"登出")]),t("div",B,[n(o,{to:"/user/cart",class:"nav-link"},{default:l(()=>[u("購物車")]),_:1})])])])])}const R=_(N,[["render",C]]),F={components:{NavbarLayout:R,ToastMessages:x},data(){return{status:!1}},methods:{...h(g,["pushMessage"])},created(){const a=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=`${a}`;const s="https://vue3-course-api.hexschool.io/v2/api/user/check";this.$http.post(s).then(e=>{this.pushMessage({style:"success",title:"成功登入",content:e.data.message}),this.status=!0}).catch(e=>{this.pushMessage({style:"danger",title:"錯誤訊息",content:e.response.data.message}),this.$router.push("/")})}},z={class:"container-fluid mt-3 position-relative"};function D(a,s,e,m,p,c){const o=r("NavbarLayout"),i=r("ToastMessages"),b=r("RouterView");return d(),v(M,null,[n(o),t("div",z,[n(i),p.status?(d(),k(b,{key:0})):$("",!0)])],64)}const q=_(F,[["render",D]]);export{q as default};
